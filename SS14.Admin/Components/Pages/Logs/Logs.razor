@page "/logs"
@using Microsoft.AspNetCore.Components.QuickGrid
@using SS14.Admin.Components.Shared.Filter


<PageTitle>Logs</PageTitle>

<Filter Model="_model"></Filter>
<QuickGrid @ref="Grid" Items="LogsQuery()" Pagination="@_pagination" Class="grow">
    <PropertyColumn Property="@(log => log.RoundId)" Title="Round"></PropertyColumn>
    <PropertyColumn Property="@(log => log.Round != null ? log.Round.Server.Name : "")" Title="Server"></PropertyColumn>
    <PropertyColumn Property="@(log => log.Impact)"  Title="Impact" Sortable="true"></PropertyColumn>
    <PropertyColumn Property="@(log => log.Date)" Title="Date" Sortable="true" IsDefaultSortColumn InitialSortDirection="SortDirection.Descending"></PropertyColumn>
    <PropertyColumn Property="@(log => log.Type)" Title="Type"></PropertyColumn>
    <PropertyColumn Property="@(log => log.Message)" Title="Message"></PropertyColumn>
</QuickGrid>

<Pagination OnRefreshRequired="Refresh" class="py-2 border-t sticky-pagination" State="@_pagination" />
